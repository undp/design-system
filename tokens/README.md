# Design Tokens Directory

This directory contains design tokens exported from Figma and their transformed outputs.

## Structure

```
tokens/
├── figma/              # Source tokens from Figma
│   └── tokens.json     # Exported token file (committed to git)
└── build/              # Generated output (gitignored)
    └── _figma-tokens.scss
```

## Files

### `figma/tokens.json`

This file contains design tokens exported from Figma using the Tokens Studio plugin. It should be updated whenever design tokens change in Figma.

**Format:**
```json
{
  "color": {
    "blue": {
      "500": {
        "value": "#3288ce",
        "type": "color"
      }
    }
  }
}
```

**To update:**
1. Export tokens from Figma using Tokens Studio plugin
2. Save the file as `tokens/figma/tokens.json`
3. Run `npm run tokens:sync`

### `build/` (gitignored)

This directory contains intermediate build outputs generated by Style Dictionary. These files are automatically generated and should not be edited manually or committed to git.

## Workflow

### Normal Token Update

```bash
# 1. Export from Figma and save as tokens/figma/tokens.json
# 2. Sync tokens
npm run tokens:sync

# 3. Review changes
git diff stories/assets/scss/_variables.scss

# 4. Commit
git add tokens/figma/tokens.json stories/assets/scss/_variables.scss
git commit -m "Update design tokens from Figma"
```

### Build Only (No Sync)

If you only want to transform tokens without merging:

```bash
npm run tokens:build
```

This generates `tokens/build/_figma-tokens.scss` but doesn't update the main variables file.

## Token Format

Tokens should follow this structure:

```json
{
  "tokenCategory": {
    "tokenName": {
      "value": "tokenValue",
      "type": "tokenType",
      "description": "Optional description"
    }
  }
}
```

### Supported Token Types

- `color` - Color values (hex, rgb, etc.)
- `fontSize` - Font size values (rem, px, etc.)
- `spacing` - Spacing values (rem, px, etc.)

## Naming Convention

Tokens are transformed to SCSS variables using kebab-case:

- `color.blue.500` → `$color-blue-500`
- `font.size.16` → `$font-size-16`
- `spacing.05` → `$spacing-05`

## Documentation

For complete documentation, see:
- [FIGMA_TOKENS_INTEGRATION.md](../docs/FIGMA_TOKENS_INTEGRATION.md) - Full integration guide
- [FIGMA_PLUGIN_SETUP.md](../docs/FIGMA_PLUGIN_SETUP.md) - Figma plugin setup

## Troubleshooting

### Token not updating

1. Check JSON syntax in `tokens.json` (use a JSON validator)
2. Verify token has both `value` and `type` properties
3. Run `npm run tokens:build` to see detailed errors

### Build fails

1. Check that `tokens/figma/tokens.json` exists
2. Verify JSON is valid
3. Check console output for specific errors

### Variables not in sync

1. Run `npm run tokens:sync` again
2. If still issues, restore from backup:
   ```bash
   cp stories/assets/scss/_variables.scss.backup stories/assets/scss/_variables.scss
   ```
