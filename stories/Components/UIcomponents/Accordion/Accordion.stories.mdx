import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { renderToStaticMarkup } from 'react-dom/server'

import { Accordion } from './Accordion'

export const getCaptionForLocale = (locale) => {
  switch(locale) {
    case 'english': const engText = {header: 'Section Header', country: 'Algeria', description: 'Dummy text refers to the bits of content that are used to fill a website mock-up. This text helps web designers better envision how the website will look as a finished product. It is important to understand that dummy text has no meaning whatsoever. Its sole purpose is to fill out blank spaces with “word-like” content, without making any copyright infringements.',
    }; return engText;
    case 'arabic': const arabicText = {header: 'مقطع الرأس', country: 'الجزائر', description: 'يشير النص الوهمي إلى أجزاء المحتوى المستخدمة لملء نموذج موقع الويب. يساعد هذا النص مصممي الويب على تصور أفضل لكيفية ظهور موقع الويب كمنتج نهائي. من المهم أن نفهم أن النص الوهمي ليس له معنى على الإطلاق. والغرض الوحيد منه هو ملء الفراغات بمحتوى "يشبه الكلمات" ، دون القيام بأي انتهاك لحقوق النشر.',
    }; return arabicText;
    case 'burmese': const burmeseText = {header: 'အပိုင်းခေါင်းစီး', country: 'အယ်လ်ဂျီးရီးယား', description: 'Dummy စာသားသည် ၀ က်ဘ်ဆိုက်၏လှောင်ပြောင်မှုကိုဖြည့်ရန်အသုံးပြုသောအကြောင်းအရာအနည်းငယ်ကိုရည်ညွှန်းသည်။ ဤစာသားသည် ၀ က်ဘ်ဒီဇိုင်နာများအနေဖြင့် ၀ က်ဘ်ဆိုက်သည်အချောထည်ထုတ်ကုန်တစ်ခုအဖြစ်မည်သို့ပုံဖော်ရန်စိတ်ကူးကောင်းမြင်နိုင်စေသည်။ dummy စာသားသည်မည်သည့်အဓိပ္ပါယ်မှမရှိကြောင်းနားလည်ရန်အရေးကြီးသည်။ ၎င်း၏တစ်ခုတည်းသောရည်ရွယ်ချက်မှာမူပိုင်ခွင့်ချိုးဖောက်မှုများကိုမပြုလုပ်ဘဲ“ စကားလုံးကဲ့သို့” အကြောင်းအရာဖြင့်ဖြည့်ရန်ဖြစ်သည်။',
    }; return burmeseText;
    case 'japanese': const japaneseText = {header: 'セクションヘッダー', country: 'アルジェリア', description: 'ダミーテキストとは、Webサイトのモックアップを埋めるために使用されるコンテンツの一部を指します。このテキストは、WebデザイナーがWebサイトが完成品としてどのように見えるかをよりよく想像するのに役立ちます。ダミーテキストには何の意味もないことを理解することが重要です。その唯一の目的は、著作権を侵害することなく、「単語のような」コンテンツで空白を埋めることです。',
    }; return japaneseText;
    default:
      return {header: 'Section Header', country: 'Algeria', description: 'Dummy text refers to the bits of content that are used to fill a website mock-up. This text helps web designers better envision how the website will look as a finished product. It is important to understand that dummy text has no meaning whatsoever. Its sole purpose is to fill out blank spaces with “word-like” content, without making any copyright infringements.',
    };
  }
};

<Meta title="Components/UI components/Accordion" component={Accordion} />

# Accordion
## An accordion is a vertically stacked list of titles that reveal or hide additional content when selected.

### Overview
The accordion component delivers large amounts of content in a small space through progressive disclosure. The accordion title gives the user a high-level overview of the content allowing the user to decide which sections to read.

Accordions make information processing and discovering more effective. However, it does obscure content from users and it is important to account for a user not noticing or reading all content placed within an accordion section. If it is necessary for a user to read all of the content then don’t use an accordion as it adds the burden of an extra click; instead use a full scrolling page with normal headers.

#### When to use:
- To organize related information.
- To shorten pages and reduce scrolling when content is not crucial to read in full.
- When space is at a premium and long content cannot be displayed all at once, like on a mobile interface or in a side panel.
- If you have only a small space to display a lot of content.


### Formatting

#### Default

<Canvas>
  <Story name="Accordion">
    {
      (args, { globals: { locale } }) => {
        const caption = getCaptionForLocale(locale);
        return <Accordion 
          headerText={caption.header} 
          descriptionText={caption.description} 
        ></Accordion>;
      }
    }
  </Story>
</Canvas>

#### CSS
Add following CSS in your project
- [Base layouting CSS](https://github.com/undp/design-system/blob/building-dist/dist/css/base-minimal.css).
- [Copy and add this component CSS in your project](https://github.com/undp/design-system/blob/building-dist/dist/css/components/accordion.css).


#### JS
[Use this JS file in your project ](https://github.com/undp/design-system/blob/building-dist/stories/assets/js/Faq_custom.js)
and then use following code:
```
$(document).ready(function(){
  FaqFun();
});
```

### Content

The accordion is made up of a title and body copy. Accordion titles should use a short amount of text that describes the content of the body copy.

The contents within an accordion section may utilize multiple paragraphs and subsections as needed.


### Behaviors

#### States

An accordion panel  has two states: collapsed and expanded. The chevron icon at the end of the accordion title should indicate the accordion panel’s state. By default, all panels of an accordion should begin at the collapsed state. The following behavior modifiers are available: 

- **Multi-expand**. By default only one panel of the accordion can be open at a time. It can be changed by assigning  data-multi-expand=”true”  attribute to the accordion’s outermost element. 
- **Disabled**: temporary removing expanding capability of the specific panel while preserving overall look and feel
- **Active**: while default state of all panels is “close” we can enable certain panels by assigning class  .is-active  to it
- **Mobile Only**: To shwo the Accordion on mobile device only we have to pass the attribute to the parent div eg: 
  ``` <div class="accordion" data-accordion="mobile">```

#### Interactions

The entire accordion title and chevron is selectable. Users can click anywhere in the title area to expand or collapse the content, providing a large, easy to manipulate target.

#### Accordion and URLs

- Optional **deep linking** - allow users to open a particular accordion panel at page load with hash-appended URL. Configurable by setting  data-deep-link=”true” , disabled by default
- Browser history - modifying widget behavior for browser history modification, by default each click replaces current page’s URL, but by using  data-update-history=”true”  you can instruct browser to insert new entries on every click providing ability to track back the navigation history while clicking Back button.


### Changelog
1.0 — Released component