@use '../../../assets/scss/breakpoints';
@use '../../../assets/scss/variables';
@use '../../../assets/scss/mixins';

$colors: (
  'yellow': variables.$color-yellow,
  'red': variables.$color-red,
  'green': variables.$color-green,
  'blue': variables.$color-azure
);

div.publication-card {
  display: inline-block;

  @include breakpoints.devicebreak(medium) {
    min-width: 20.625rem;
  }

  &:hover {
    div.publication-thumbnail__image {
      &::after {
        @include mixins.background-image(27.66deg, variables.$color-yellow, transparent 70.49%);

        opacity: 0.75;
      }

      @each $name,
      $color in $colors {

        &.accent-#{$name}::after,
        &.#{$name}::after {
          @include mixins.background-image(27.66deg, $color, transparent 70.49%);

          opacity: 0.75;
        }
      }
    }
  }

  .description {
    align-items: center;
    background: variables.$color-gray-100;
    padding: variables.$spacing-06;

    >div {
      align-items: center;
      flex-wrap: unset;

      &:first-of-type {
        text-align: left;
      }

      > :not(:first-of-type) {
        border-left: variables.$spacing-01 solid variables.$color-silvery-moonlight;
        text-align: right;
      }
    }
  }

  .title {
    @extend %paragragh-font-20;

    margin-bottom: variables.$spacing-02;
  }

  .format {
    @extend %paragragh-font-16;

    color: variables.$color-gray-600;
    margin-bottom: variables.$spacing-05;
  }

  .download {
    @extend %paragragh-font-16;

    align-items: center;
    background-image: none;
    cursor: pointer;
    display: inline-flex;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;

    .download-animated {
      margin-left: variables.$spacing-04;
    }

    &:hover {
      color: variables.$color-shuttle-gray;

      .download-animated {
        &::after {
          @include mixins.transform(rotate(-45deg) translate(7px, -7px));
        }

        &::before {
          @include mixins.transform(translate(0, -10px));
        }
      }
    }
  }

  .readmore {
    @extend %paragragh-font-16;

    align-items: center;
    background-image: none;
    cursor: pointer;
    display: inline;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;

    .external-link-animated {
      display: inline-block;
      margin-left: variables.$spacing-04;
    }

    &:hover {
      color: variables.$color-shuttle-gray;

      .external-link-animated {
        &::after {
          @include mixins.transform(translate(5px, -5px));
        }

        &::before {
          @include mixins.transform(rotate(-45deg) translate(7px, 0));
        }
      }
    }
  }
}

[dir='rtl'] {
  .publication-card {
    .readmore {
      .external-link-animated {
        margin-left: 0;
        margin-right: variables.$spacing-04;
      }
    }

    .download {
      .download-animated {
        margin-left: 0;
        margin-right: variables.$spacing-04;
      }
    }

    .description {
      >div {
        &:first-of-type {
          text-align: right;
        }

        > :not(:first-of-type) {
          border-left: 0;
          border-right: variables.$spacing-01 solid variables.$color-silvery-moonlight;
          text-align: left;
        }
      }
    }
  }
}

@each $name,
$color in $colors {
  .accent-#{$name} div.publication-card {

    &:hover {
      div.publication-thumbnail__image {
        &::after {
          @include mixins.background-image(27.66deg, $color, transparent 70.49%);
        }

        @each $name2,
        $color2 in $colors {

          &.accent-#{$name2}::after,
          &.#{$name2}::after {
            @include mixins.background-image(27.66deg, $color2, transparent 70.49%);
          }
        }
      }
    }
  }

  [dir='rtl'] .accent-#{$name} div.publication-card {

    &:hover {
      div.publication-thumbnail__image {
        &::after {
          @include mixins.background-image(318deg, $color, transparent 70.49%);
        }

        @each $name2,
        $color2 in $colors {

          &.accent-#{$name2}::after,
          &.#{$name2}::after {
            @include mixins.background-image(318deg, $color2, transparent 70.49%);
          }
        }
      }
    }
  }
}